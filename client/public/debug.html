<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç³»ç»Ÿè¯Šæ–­</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #409eff;
        }

        .test-item {
            padding: 15px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .success {
            background: #f0f9ff;
            border-color: #409eff;
        }

        .error {
            background: #fff0f0;
            border-color: #f56c6c;
        }

        .pending {
            background: #fffbf0;
            border-color: #e6a23c;
        }

        button {
            background: #409eff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }

        button:hover {
            background: #66b1ff;
        }

        pre {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>ğŸ” ä¼ä¸šè€ƒå‹¤ç³»ç»Ÿ - è¯Šæ–­å·¥å…·</h1>

        <div class="test-item success">
            <h3>âœ… ViteæœåŠ¡å™¨</h3>
            <p>çŠ¶æ€ï¼šæ­£å¸¸è¿è¡Œ</p>
            <p>åœ°å€ï¼šhttp://127.0.0.1:5173</p>
        </div>

        <div class="test-item pending" id="api-test">
            <h3>â³ åç«¯APIæµ‹è¯•</h3>
            <p id="api-status">ç­‰å¾…æµ‹è¯•...</p>
            <button onclick="testAPI()">æµ‹è¯•APIè¿æ¥</button>
            <pre id="api-result"></pre>
        </div>

        <div class="test-item pending" id="main-app">
            <h3>â³ ä¸»åº”ç”¨æµ‹è¯•</h3>
            <p>è®¿é—®ä¸»é¡µæŸ¥çœ‹Vueåº”ç”¨æ˜¯å¦åŠ è½½</p>
            <button onclick="window.location.href='/'">è®¿é—®ä¸»é¡µ</button>
            <button onclick="clearCache()">æ¸…é™¤ç¼“å­˜å¹¶è®¿é—®</button>
        </div>

        <div class="test-item">
            <h3>ğŸ“‹ å¸¸è§é—®é¢˜æ’æŸ¥</h3>
            <ol>
                <li><strong>é¡µé¢ç©ºç™½</strong> - æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°(F12)æŸ¥çœ‹Consoleé”™è¯¯</li>
                <li><strong>APIé”™è¯¯</strong> - æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œåœ¨3000ç«¯å£</li>
                <li><strong>ä»£ç†é—®é¢˜</strong> - ç¡®ä¿ä»£ç†ä¸æ‹¦æˆªlocalhost</li>
                <li><strong>ç¼“å­˜é—®é¢˜</strong> - å°è¯•Ctrl+Shift+Rå¼ºåˆ¶åˆ·æ–°</li>
            </ol>
        </div>

        <div class="test-item">
            <h3>ğŸ”— å¿«æ·é“¾æ¥</h3>
            <a href="/" target="_blank">ä¸»é¡µ</a> |
            <a href="http://127.0.0.1:3000/api/health" target="_blank">APIå¥åº·æ£€æŸ¥</a> |
            <a href="/test.html">æµ‹è¯•é¡µé¢</a>
        </div>
    </div>

    <script>
        async function testAPI() {
            const apiTest = document.getElementById('api-test');
            const apiStatus = document.getElementById('api-status');
            const apiResult = document.getElementById('api-result');

            apiStatus.textContent = 'æ­£åœ¨æµ‹è¯•...';
            apiTest.className = 'test-item pending';

            try {
                const response = await fetch('http://127.0.0.1:3000/api/health');
                const data = await response.json();

                if (data.status === 'ok') {
                    apiTest.className = 'test-item success';
                    apiStatus.textContent = 'âœ… APIè¿æ¥æˆåŠŸ';
                    apiResult.textContent = JSON.stringify(data, null, 2);
                } else {
                    throw new Error('APIè¿”å›çŠ¶æ€å¼‚å¸¸');
                }
            } catch (error) {
                apiTest.className = 'test-item error';
                apiStatus.textContent = 'âŒ APIè¿æ¥å¤±è´¥';
                apiResult.textContent = 'é”™è¯¯: ' + error.message + '\n\nè¯·æ£€æŸ¥ï¼š\n1. åç«¯æ˜¯å¦è¿è¡Œåœ¨3000ç«¯å£\n2. ä»£ç†æ˜¯å¦é˜»æ­¢localhostè®¿é—®';
            }
        }

        function clearCache() {
            if (confirm('å³å°†æ¸…é™¤ç¼“å­˜å¹¶åˆ·æ–°é¡µé¢')) {
                location.href = '/?t=' + Date.now();
            }
        }

        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æµ‹è¯•API
        window.onload = function () {
            setTimeout(testAPI, 500);
        };
    </script>
</body>

</html>